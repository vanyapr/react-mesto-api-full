{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 17:59:27 GMT+0300 (Moscow Standard Time)","process":{"pid":24986,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":66502656,"heapTotal":57913344,"heapUsed":24835528,"external":19483942}},"os":{"loadavg":[5.76904296875,6.3505859375,6.06298828125],"uptime":592486},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":14,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":57,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","pragma":"no-cache","cache-control":"no-cache","accept":"application/json","dnt":"1","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI3ZDgxYWQxZTNiMzYwZDA0NTA4YWYiLCJpYXQiOjE2MDU4ODM5MzksImV4cCI6MTYwNjQ4ODczOX0.eHXccZ686dmvDtSiRqkJEw3gUbaIb0QSZrycxP-EuLU","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36","content-type":"application/json","origin":"http://localhost:3001","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br","accept-language":"ru,en-US;q=0.9,en;q=0.8"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:02:05 GMT+0300 (Moscow Standard Time)","process":{"pid":24986,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":33460224,"heapTotal":26189824,"heapUsed":21776544,"external":19498453}},"os":{"loadavg":[5.27587890625,5.615234375,5.77587890625],"uptime":592644},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":14,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":57,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","pragma":"no-cache","cache-control":"no-cache","accept":"application/json","dnt":"1","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI3ZDgxYWQxZTNiMzYwZDA0NTA4YWYiLCJpYXQiOjE2MDU4ODQ1MTEsImV4cCI6MTYwNjQ4OTMxMX0.7fkMsi6ao8OMfVBbBGvrGWqoYiWzZgn0AJVL7qLxL9Y","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36","content-type":"application/json","origin":"http://localhost:3001","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br","accept-language":"ru,en-US;q=0.9,en;q=0.8"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:07:31 GMT+0300 (Moscow Standard Time)","process":{"pid":24986,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":24088576,"heapTotal":26189824,"heapUsed":22101392,"external":19518099}},"os":{"loadavg":[6.11279296875,5.58837890625,5.71630859375],"uptime":592970},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":14,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":57,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","pragma":"no-cache","cache-control":"no-cache","accept":"application/json","dnt":"1","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI3ZDgxYWQxZTNiMzYwZDA0NTA4YWYiLCJpYXQiOjE2MDU4ODQ1MzAsImV4cCI6MTYwNjQ4OTMzMH0.bKvsn1Zb6pap3pNRBCZN3OjRZJdK4s1lRvgbeuGthbY","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36","content-type":"application/json","origin":"http://localhost:3001","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br","accept-language":"ru,en-US;q=0.9,en;q=0.8"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:07:44 GMT+0300 (Moscow Standard Time)","process":{"pid":24986,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":28622848,"heapTotal":26189824,"heapUsed":21699320,"external":19505663}},"os":{"loadavg":[5.88037109375,5.552734375,5.70166015625],"uptime":592983},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":14,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":57,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","pragma":"no-cache","cache-control":"no-cache","accept":"application/json","dnt":"1","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI3ZDgxYWQxZTNiMzYwZDA0NTA4YWYiLCJpYXQiOjE2MDU4ODQ4NTcsImV4cCI6MTYwNjQ4OTY1N30.mwqfeVjBMODpZ0XMa-6eNOT1Keg0vtq8_HkCLNJFI2g","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36","content-type":"application/json","origin":"http://localhost:3001","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br","accept-language":"ru,en-US;q=0.9,en;q=0.8"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:07:48 GMT+0300 (Moscow Standard Time)","process":{"pid":24986,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":28839936,"heapTotal":26189824,"heapUsed":21889168,"external":19516985}},"os":{"loadavg":[6.0498046875,5.59326171875,5.71484375],"uptime":592987},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":14,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":57,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","pragma":"no-cache","cache-control":"no-cache","accept":"application/json","dnt":"1","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI3ZDgxYWQxZTNiMzYwZDA0NTA4YWYiLCJpYXQiOjE2MDU4ODQ4NTcsImV4cCI6MTYwNjQ4OTY1N30.mwqfeVjBMODpZ0XMa-6eNOT1Keg0vtq8_HkCLNJFI2g","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36","content-type":"application/json","origin":"http://localhost:3001","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br","accept-language":"ru,en-US;q=0.9,en;q=0.8"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:08:03 GMT+0300 (Moscow Standard Time)","process":{"pid":24986,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":28934144,"heapTotal":26189824,"heapUsed":22106016,"external":19529005}},"os":{"loadavg":[5.14599609375,5.416015625,5.64892578125],"uptime":593002},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":14,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":57,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","pragma":"no-cache","cache-control":"no-cache","accept":"application/json","dnt":"1","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI3ZDgxYWQxZTNiMzYwZDA0NTA4YWYiLCJpYXQiOjE2MDU4ODQ4NTcsImV4cCI6MTYwNjQ4OTY1N30.mwqfeVjBMODpZ0XMa-6eNOT1Keg0vtq8_HkCLNJFI2g","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36","content-type":"application/json","origin":"http://localhost:3001","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br","accept-language":"ru,en-US;q=0.9,en;q=0.8"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:71:5)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:71:5)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:12:36 GMT+0300 (Moscow Standard Time)","process":{"pid":25237,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":67309568,"heapTotal":59486208,"heapUsed":25711128,"external":19494649}},"os":{"loadavg":[4.12109375,4.46728515625,5.11767578125],"uptime":593275},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":71,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"user-agent":"PostmanRuntime/7.26.5","accept":"*/*","postman-token":"6eb4757e-4d53-47fe-b66f-5200a3218248","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"authorisation=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI2ZTE5NDQ4NmRhNTQxZTM1ZjNjYTYiLCJpYXQiOjE2MDU4ODMyNDQsImV4cCI6MTYwNjQ4ODA0NH0.7849nTT3ovyppgU86Oza4Y6Jy-KvIK3JYkebBOa7e_k"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:71:5)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:71:5)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:12:38 GMT+0300 (Moscow Standard Time)","process":{"pid":25237,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":67342336,"heapTotal":59486208,"heapUsed":25922656,"external":19505378}},"os":{"loadavg":[4.03125,4.44287109375,5.10498046875],"uptime":593277},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":71,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"user-agent":"PostmanRuntime/7.26.5","accept":"*/*","postman-token":"702a8322-c25b-43fc-b4aa-607b5d629282","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"authorisation=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI2ZTE5NDQ4NmRhNTQxZTM1ZjNjYTYiLCJpYXQiOjE2MDU4ODMyNDQsImV4cCI6MTYwNjQ4ODA0NH0.7849nTT3ovyppgU86Oza4Y6Jy-KvIK3JYkebBOa7e_k"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:71:5)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:71:5)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:12:39 GMT+0300 (Moscow Standard Time)","process":{"pid":25237,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":67346432,"heapTotal":59486208,"heapUsed":26089312,"external":19516048}},"os":{"loadavg":[4.03125,4.44287109375,5.10498046875],"uptime":593278},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":71,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"user-agent":"PostmanRuntime/7.26.5","accept":"*/*","postman-token":"db13f7bf-b1bc-4850-a7af-bb578d1102c4","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"authorisation=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI2ZTE5NDQ4NmRhNTQxZTM1ZjNjYTYiLCJpYXQiOjE2MDU4ODMyNDQsImV4cCI6MTYwNjQ4ODA0NH0.7849nTT3ovyppgU86Oza4Y6Jy-KvIK3JYkebBOa7e_k"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация: нет токена\nError: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:71:5)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация: нет токена\n    at auth (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js:11:10)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:428:9\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at cookieParser (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js:71:5)\n    at Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Fri Nov 20 2020 18:12:47 GMT+0300 (Moscow Standard Time)","process":{"pid":25237,"uid":501,"gid":20,"cwd":"/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend","execPath":"/usr/local/Cellar/node/12.4.0/bin/node","version":"v12.4.0","argv":["/usr/local/Cellar/node/12.4.0/bin/node","/Users/ivanproskurakov/Dropbox (Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":50495488,"heapTotal":25665536,"heapUsed":21766928,"external":19486822}},"os":{"loadavg":[3.564453125,4.32861328125,5.056640625],"uptime":593286},"trace":[{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth (/Users/ivanproskurakov/Dropbox","line":11,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":9,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":"/Users/ivanproskurakov/Dropbox","line":428,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false},{"column":12,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params (/Users/ivanproskurakov/Dropbox","line":335,"method":"process_params (/Users/ivanproskurakov/Dropbox","native":false},{"column":10,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next (/Users/ivanproskurakov/Dropbox","line":275,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/cookie-parser/index.js","function":"cookieParser (/Users/ivanproskurakov/Dropbox","line":71,"method":null,"native":false},{"column":5,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request] (/Users/ivanproskurakov/Dropbox","line":95,"method":"handle [as handle_request] (/Users/ivanproskurakov/Dropbox","native":false},{"column":13,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix (/Users/ivanproskurakov/Dropbox","line":317,"method":null,"native":false},{"column":7,"file":"Личный)/yandex_praktikum/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"/Users/ivanproskurakov/Dropbox","line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"user-agent":"PostmanRuntime/7.26.5","accept":"*/*","postman-token":"08b38fc3-3bee-49aa-a514-1a31c44c8e27","host":"localhost:3000","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"authorisation=Bearer%20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmI2ZTE5NDQ4NmRhNTQxZTM1ZjNjYTYiLCJpYXQiOjE2MDU4ODMyNDQsImV4cCI6MTYwNjQ4ODA0NH0.7849nTT3ovyppgU86Oza4Y6Jy-KvIK3JYkebBOa7e_k"},"method":"GET","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
